<div class="hero min-h-screen bg-base-200">
  <div class="hero-content">
    <div class="max-w-md">
      <h1 class="text-4xl font-serif font-bold p-10 text-center text-accent-focus"><%= t ".title" %></h1>
      <p class="text-3xl font-serif font-bold text-green-600 text-opacity-70"><%= @flower.name %></p>
      <%= image_tag @flower.flower_image_url, class: "rounded-xl mt-3" %>
      <label class="label font-serif font-bold mt-3"><%= t '.address' %></label>
      <p><%= @flower.address %></p>
      <div id='map' class="rounded-xl mt-3" style="height: 500px; width: 380px"></div>
      <label class="label font-serif font-bold mt-7"><%= t '.datetime' %></label>
      <p><%= l @flower.datetime %></p>
      <label class="label font-serif font-bold mt-3"><%= t '.status' %></label>
      <p><%= @flower.status_i18n %></p>
      <div class="flex my-4">
        <%= render 'comments/form', { flower: @flower, comment: @comment } %>
        <%= render 'comments/comments', { comments: @comments } %>
        <div class="flex justify-center my-7">
            <% if current_user.own?(@flower) %>
              <div class="flex">
                <%= link_to t( '.edit' ),edit_flower_path(@flower), class: "btn btn-primary mr-1", id: "button-edit-#{@flower.id}" %>
                <%= button_to t('.destroy'), flower_path(@flower), class: "btn btn-primary", id: "button-delete-#{@flower.id}", method: :delete, data: { confirm: '削除完了しました' } %>
              </div>
            <% end %>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  let map
  let Marker

  function initMap(){
    const FlowerLocation = { lat: gon.flower.latitude, lng: gon.flower.longitude }

    const map = new google.maps.Map(document.getElementById('map'), {
      center: FlowerLocation,
      zoom: 16,
    })
    const marker = new google.maps.Marker({
      position: FlowerLocation,
      map: map,
      icon: '/assets/marker.png'
    })
  }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_CLOUD_API_KEY'] %>&callback=initMap" async defer></script>
